# 동기 / 비동기 정리 (Thinking Notes)

## 1. 개념의 본질

동기 / 비동기는 네트워크(TCP/UDP)가 아니라  
CPU 실행 흐름(스레드)이 작업 결과를 기다리느냐의 문제다.

핵심 질문은 하나다.

> 이 실행 흐름(스레드)이  
> 결과가 나올 때까지 멈추는가?

---

## 2. 동기 (Synchronous)

### 정의
- 하나의 실행 흐름(스레드)이
- 작업 결과가 나올 때까지 대기(block)
- 결과를 받은 뒤 다음 작업을 수행

### 처리 흐름

    작업 A 시작
        ↓
    I/O 요청
        ↓
    결과 대기 (blocking)
        ↓
    결과 수신
        ↓
    응답 반환
        ↓
    다음 작업 수행

### 특징
- 실행 흐름이 멈춤
- 처리 순서가 직관적
- 코드 가독성 높음

### 장점
- 구현 단순
- 디버깅 쉬움
- 안정적

### 단점
- I/O 대기 동안 스레드 점유
- 동시 요청 증가 시 스레드 소모 큼

### 적합한 경우
- 요청 처리 시간이 짧음
- 요청 수가 예측 가능
- 일반적인 웹 요청 (HTML / JSON)

---

## 3. 비동기 (Asynchronous)

### 정의
- 작업을 시작만 해두고
- 결과를 기다리지 않고 즉시 반환
- 결과는 나중에 이벤트 / 콜백 / Future로 처리

### 처리 흐름

    작업 A 등록
    작업 B 등록
    작업 C 등록
        ↓
    작업 C 완료 → 응답
    작업 A 완료 → 응답
    작업 B 완료 → 응답

### 특징
- 실행 흐름이 멈추지 않음
- 이벤트 기반 처리
- 완료 순서는 요청 순서와 다를 수 있음

### 장점
- I/O 대기 동안 스레드 재사용
- CPU 활용도 높음
- 대규모 동시 처리에 유리

### 단점
- 코드 복잡도 증가
- 디버깅 난이도 상승
- 설계 난이도 높음

### 적합한 경우
- WebSocket / SSE
- 실시간 알림 / 스트리밍
- 외부 API 호출 많음
- I/O 대기 시간이 김

---

## 4. 동기 / 비동기 핵심 비교

| 구분 | 동기 | 비동기 |
|----|----|----|
| 실행 흐름 | 결과까지 대기 | 대기 안 함 |
| 스레드 상태 | block | free |
| I/O 대기 | 스레드 점유 | 이벤트로 처리 |
| 동시성 | 낮음 | 높음 |
| 코드 난이도 | 낮음 | 높음 |

---

## 5. CPU / 스레드 / I/O 관점 정리

- 스레드: CPU에서 실행되는 논리적 실행 단위
- CPU 코어: 실제 연산 자원
- I/O 처리: 커널 / 디바이스가 수행

### 동기
- I/O 대기 중 스레드가 묶임
- CPU는 다른 스레드로 전환하거나 놀게 됨

### 비동기
- I/O 요청 후 스레드 즉시 반환
- CPU는 다른 작업 수행
- I/O 완료 시 이벤트로 처리

---

## 6. TCP / UDP와의 관계

- TCP / UDP: 전송 계층의 데이터 전달 규칙
- 동기 / 비동기: 응용 계층의 실행 모델

서로 완전히 다른 축의 개념이다.

가능한 조합:
- TCP + 동기
- TCP + 비동기
- UDP + 동기
- UDP + 비동기

---

## 7. 한 문장 요약

동기 / 비동기는  
CPU 연산 자체의 문제가 아니라  
I/O 대기 시간을 어떻게 관리하느냐에 대한 실행 모델 선택이다.