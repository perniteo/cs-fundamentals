## SQL vs NoSQL에 대한 고찰과 DB 설계 방향

### 1. 문제 인식
프로젝트 설계 과정에서 가장 고민이 컸던 부분은 **DB 구조 설계**였다.  
단순히 테이블을 나누는 문제를 넘어서, 다음과 같은 질문들이 반복적으로 떠올랐다.

- 특정 조회는 어떻게 처리해야 할까?
- JOIN이 여러 번 필요한 구조가 될 가능성은 없을까?
- 조회 패턴이 늘어날수록 DB 부하가 커지지 않을까?
- 모든 조회를 하나의 DB 구조로 감당하는 것이 맞을까?

이러한 고민은 단순한 문법이나 기술 선택의 문제가 아니라  
**“이 서비스에서 데이터를 어떻게 저장하고, 어떻게 조회할 것인가”**라는  
설계 차원의 문제라고 느꼈다.

---

### 2. SQL(Database)의 역할에 대한 이해

SQL 기반 RDBMS는 다음과 같은 강점을 가진다.

- 명확한 스키마(DDL)를 통한 구조적 데이터 관리
- 데이터 정합성 보장
- 트랜잭션 처리 (ACID)
- 관계 표현 및 JOIN을 통한 범용적인 조회

따라서 다음과 같은 데이터는 SQL을 **기준 데이터(Source of Truth)**로  
관리하는 것이 적절하다고 판단했다.

- 사용자(User)
- 게시글(Post)
- 댓글(Comment)
- 수정·삭제가 잦고 정합성이 중요한 데이터

즉, SQL은 **쓰기와 정합성의 중심** 역할을 맡는다.

---

### 3. NoSQL에 대한 재해석

처음에는 NoSQL을  
“SQL을 대체하는 다른 종류의 DB” 정도로만 인식하고 있었다.  
하지만 설계 고민을 되짚어보며 관점을 다음과 같이 재정의하게 되었다.

> **NoSQL은 SQL을 대체하는 기술이 아니라,  
SQL에서 비용이 큰 조회 결과를 미리 저장하는 방식이다.**

특히 Document 기반 NoSQL은:

- 스키마를 강제하지 않고
- DB 레벨에서 JOIN을 수행하지 않으며
- 조회 단위(화면/API 단위)로 데이터를 저장한다

이는 **관계를 계산(JOIN)하지 않고,  
관계를 데이터에 포함시켜 저장하는 전략**으로 볼 수 있다.

---

### 4. JOIN에 대한 관점 변화

기존 SQL 중심 사고에서는  
“JOIN이 필요하면 테이블을 분리하고 JOIN하면 된다”가 기본 전제였다.

그러나 설계 고민 과정에서 다음과 같은 한계를 인식하게 되었다.

- JOIN이 자주 발생하는 조회는 성능 병목이 될 수 있다
- 웹 서비스의 조회 패턴은 비교적 고정적이다
- 대부분의 화면/API는 이미 **합쳐진 형태의 데이터**를 요구한다

이에 따라 NoSQL에서는:

- JOIN을 하지 않는 것이 목적이 아니라
- **JOIN이 필요 없도록 데이터를 저장하는 전략**을 취한다

이는 정규화를 포기하는 것이 아니라,  
**조회 최적화를 위한 의도적인 비정규화**라고 이해했다.

---

### 5. SQL + NoSQL 혼합 구조에 대한 결론

최종적으로 도달한 결론은 다음과 같다.

- SQL은 **정합성과 쓰기 중심의 기준 DB**
- NoSQL은 **조회 최적화를 위한 읽기 전용 모델(Read Model)**

예를 들어:

- 게시글 생성/수정/삭제 → SQL
- 특정 작성자 기준 게시글 목록 조회 → NoSQL(Document)

NoSQL 데이터는 SQL에서 계산된 결과를 기반으로 생성되며,  
약간의 지연이나 불일치는 허용 가능한 범위로 판단한다.

---

### 6. 설계 전략 요약

- 처음부터 NoSQL을 도입하지 않는다
- SQL 구조로 단순하게 시작한다
- 조회 패턴이 복잡해질 경우:
    - 특정 조회 전용 NoSQL 모델을 추가한다
- DB 설계는 완결된 구조가 아니라 **진화 가능한 구조**로 접근한다

---

### 7. 정리

이번 설계 고민을 통해 다음과 같은 인식을 갖게 되었다.

- DB는 단순한 저장소가 아니라 **조회 전략의 일부**이다
- NoSQL은 새로운 기술이 아니라 **다른 문제를 해결하는 도구**이다
- 중요한 것은 “어떤 DB를 쓰느냐”가 아니라  
  **“어떤 문제를 풀기 위해 선택했는가”**이다

이러한 사고를 바탕으로,  
프로젝트에서는 SQL을 기반으로 시작하되  
필요에 따라 NoSQL을 확장하는 설계를 고려한다.

---

### 한 문장 요약
> **SQL은 진실을 저장하고,  
NoSQL은 빠르게 보여주기 위한 결과를 저장한다.**